<ui-base-input #inputElement [width]="width()" [title]="label()" [isRequiredField]="hasRequiredValidator()">
  <!-- Input Slot -->
  <div input
    class="relative flex items-center w-full bg-white border border-primary-400 rounded-md shadow-sm ring-1 ring-primary-400 focus-within:ring-2 transition-all"
    [ngClass]="{
         'border-error-600 ring-error-600 focus-within:ring-2': formControl.touched && formControl.errors,
        '!border-gray-500 !ring-0 focus-within:!ring-2 focus-within:!ring-primary-500 focus-within:!border-primary-500': !(formControl.touched && formControl.errors),
         'bg-neutral-100 cursor-not-allowed': formControl.disabled,
       }">
    @if (iconSrc()) {
      <ui-svg-icon [size]="18" [src]="iconSrc()!" class="absolute pointer-events-none ml-3 text-neutral-400"></ui-svg-icon>
    }

    <input
      readonly
      class="w-full h-[46px] placeholder-neutral-400 text-black rounded-md border-none outline-none focus:ring-0"
      [class.pl-10]="iconSrc()"
      [class.pl-3]="!iconSrc()"
      [class.text-neutral-400]="formControl.disabled"
      [value]="textInputValue() | formatMonthYear: inputDateFormat()"
      (click)="onInputClicked()"
      [placeholder]="placeHolder"
      (focus)="onFocus()"
      (blur)="onBlur()"
      style="outline: none !important; box-shadow: none !important;">

    @if (showPickerIcon()) {
      <div #trigger (click)="onPickerIconClicked()"
           class="absolute right-2 p-2 flex justify-center items-center hover:bg-neutral-100 rounded-full cursor-pointer transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
             class="w-[18px] h-[18px] text-neutral-400 hover:text-primary-500 transition-colors">
          <path
            d="M19 19H5V8H19M16 1V3H8V1H6V3H5C3.89 3 3 3.89 3 5V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V5C21 3.89 20.1 3 19 3H18V1M17 12H12V17H17V12Z"
            fill="currentColor"/>
        </svg>
      </div>
    }
  </div>

  <!-- Error Slot -->
  @if (formControl.touched && formControl.errors) {
    <div error class="ml-2 text-left">
      <span class="text-xs text-error-500">{{ formControl.errors | humanizeFormMessages: errorMessages() }}</span>
    </div>
  } @else if (showErrorSpace()) {
    <div error class="text-left">
      <span class="text-xs text-transparent">.</span>
    </div>
  }
</ui-base-input>