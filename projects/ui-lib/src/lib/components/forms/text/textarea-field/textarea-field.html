<ui-base-input #inputElement [title]="label()" [width]="width()" [isRequiredField]="hasRequiredValidator()">
  <!-- Input Slot -->
  <div input class="relative flex items-start w-full bg-white border border-neutral-200 rounded-md shadow-sm focus-within:ring-2 focus-within:ring-primary-400 transition-all">
    <!-- Textarea Field -->
    <div class="relative flex items-start flex-1">
      @if (iconSrc()) {
        <ui-svg-icon [size]="18" [src]="iconSrc()!" class="absolute mt-3 ml-3 text-neutral-400 pointer-events-none"></ui-svg-icon>
      }
      <textarea
        [formControl]="formControl"
        [placeholder]="placeholder()"
        [attr.minlength]="minlength()"
        [attr.maxlength]="maxlength()"
        [attr.rows]="currentLine()"
        [class.pl-10]="iconSrc()"
        [class.pl-3]="!iconSrc()"
        [class.pt-3]="iconSrc()"
        [class.pt-3]="!iconSrc()"
        [class.text-neutral-400]="formControl.disabled"
        class="flex-1 bg-transparent border-none outline-none placeholder-neutral-400 text-black resize-y"
        (input)="onInput($any($event.target)?.value)"
        (focus)="onFocus()"
        (blur)="onBlur()"
      ></textarea>
      @if (actionIcon()) {
        <div (click)="onActionClick()" class="absolute right-2 top-2 p-2 flex justify-center items-center hover:bg-neutral-100 rounded-full cursor-pointer">
          <ui-svg-icon [size]="18" [src]="actionIcon()!" class="text-neutral-400"></ui-svg-icon>
        </div>
      }
    </div>
  </div>

  <!-- Error Slot -->
  @if (formControl.errors && hasErrors()) {
    <div error class="mt-1">
      <span class="text-caption text-red-500">{{ formControl.errors | humanizeFormMessages: errorMessages() }}</span>
    </div>
  } @else if (showErrorSpace()) {
    <div error class="mt-1">
      <span class="text-caption text-transparent">.</span>
    </div>
  }
</ui-base-input>