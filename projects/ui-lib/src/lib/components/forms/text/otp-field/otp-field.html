<ui-base-input 
  #inputElement 
  [title]="label()" 
  [width]="width()" 
  [isRequiredField]="hasRequiredValidator()">

  <!-- Input Slot -->
  <div input class="flex gap-2">
    @for (index of digitIndices(); track index) {
      <input
        #otpInput
        class="otp-input w-12 h-12 text-center text-lg border bg-white border-primary-400 rounded-md outline-none transition-all ring-1 ring-primary-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-neutral-100 disabled:text-neutral-400"
        [class.border-red-500]="formControl.touched && formControl.errors"
    [class.ring-red-500]="formControl.touched && formControl.errors"
    [class.focus-within:ring-red-500]="formControl.touched && formControl.errors"
    [class.focus-within:border-red-500]="formControl.touched && formControl.errors"
    [class.opacity-60]="formControl.disabled"
        type="text"
        inputmode="text"
        maxlength="1"
        autocomplete="one-time-code"
        [value]="digits()[index] || ''"
        (input)="onDigitInput($event, index)"
        (keydown)="onKeyDown($event, index)"
        (paste)="onPaste($event, index)"
        (focus)="onFocus()"
        (blur)="onBlur()"
        [disabled]="formControl.disabled"
        style="outline: none !important; box-shadow: none !important;"
      />
    }
  </div>

  <!-- Error Slot - Fixed condition -->
  @if (formControl.touched && formControl.errors) {
    <div error class="ml-2 text-left">
      <span class="text-xs text-error-500">{{ formControl.errors | humanizeFormMessages: errorMessages() }}</span>
    </div>
  } @else if (showErrorSpace()) {
    <div error class="text-left">
      <span class="text-xs text-transparent">.</span>
    </div>
  }
</ui-base-input>