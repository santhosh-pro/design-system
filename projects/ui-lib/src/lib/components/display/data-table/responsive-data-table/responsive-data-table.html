<ng-template #filtersTpl>
  <ng-content select="[table-filter]"></ng-content>
</ng-template>

@if (!isMobile()) {
  <ui-data-table
    [columnGroups]="columnGroups()"
    [data]="data()"
    [totalCount]="totalCount()"
    [isLoading]="isLoading()"
    [hasError]="hasError()"
    [errorMessage]="errorMessage()"
    [pageSize]="pageSize()"
    [enableSearch]="enableSearch()"
    [enablePagination]="enablePagination()"
    [enableFilters]="enableFilters()"
    [filtersApplied]="filtersApplied()"
    [enableRowSelection]="enableRowSelection()"
    [enableClickableRows]="enableClickableRows()"
    [rowSelectionKey]="rowSelectionKey()"
    [defaultSelectedKeys]="defaultSelectedKeys()"
    [expandableComponent]="expandableComponent()"
    [footerComponent]="footerComponent()"
    [enableHorizontallyScrollable]="enableHorizontallyScrollable()"
    [initialValue]="initialValue()"
    [showLoadingOnlyInitial]="showLoadingOnlyInitial()"
  [filtersTemplate]="filtersTemplate() || filtersTpl"
    (clearFilters)="clearFilters.emit()"
    (applyFilters)="applyFilters.emit()"
    (pageChange)="pageChange.emit($event)"
    (sortChange)="sortChange.emit($event)"
    (stateChange)="stateChange.emit($event)"
    (action)="action.emit($event)"
    (rowClick)="rowClick.emit($event)"
    (rowSelectionChange)="rowSelectionChange.emit($event)"
    (footerAction)="footerAction.emit($event)">
  <!-- Project header actions directly to desktop table -->
  <ng-content select="[table-action]"></ng-content>
  </ui-data-table>
} @else {
  <ui-mobile-data-table
    [columnGroups]="columnGroups()"
    [data]="data()"
    [totalCount]="totalCount()"
    [isLoading]="isLoading()"
    [hasError]="hasError()"
    [errorMessage]="errorMessage()"
    [pageSize]="pageSize()"
    [enableSearch]="enableSearch()"
    [enablePagination]="enablePagination()"
    [enableFilters]="enableFilters()"
    [filtersApplied]="filtersApplied()"
    [enableRowSelection]="enableRowSelection()"
    [enableClickableRows]="enableClickableRows()"
    [rowSelectionKey]="rowSelectionKey()"
    [defaultSelectedKeys]="defaultSelectedKeys()"
    [expandableComponent]="expandableComponent()"
    [footerComponent]="footerComponent()"
    [initialValue]="initialValue()"
    [showLoadingOnlyInitial]="showLoadingOnlyInitial()"
  [filtersTemplate]="filtersTemplate() || filtersTpl"
    (clearFilters)="clearFilters.emit()"
    (applyFilters)="applyFilters.emit()"
    (pageChange)="pageChange.emit($event)"
    (sortChange)="sortChange.emit($event)"
    (stateChange)="stateChange.emit($event)"
    (action)="action.emit($event)"
    (rowClick)="rowClick.emit($event)"
    (rowSelectionChange)="rowSelectionChange.emit($event)"
    (footerAction)="footerAction.emit($event)">
    <!-- Project header actions directly to mobile table -->
    <ng-content select="[table-action]"></ng-content>
  </ui-mobile-data-table>
}
