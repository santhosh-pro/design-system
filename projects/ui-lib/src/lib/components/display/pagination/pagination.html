<div class="relative z-10 overflow-visible flex w-full items-center px-3 md:px-2 py-1 bg-white border-t border-neutral-50" [ngClass]="{ 'justify-center': isSimple(), 'justify-between': !isSimple() }">
  <!-- Left: Showing info (desktop only, non-simple) -->
  @if (!isSimple()) {
    <div class="hidden md:flex items-center gap-2 min-w-0">
      <p class="text-sm text-gray-700 whitespace-nowrap">
        Showing <span class="font-semibold">{{ startItem }}</span> to <span class="font-semibold">{{ endItem }}</span>
        of <span class="font-semibold">{{ totalItems() }}</span> results
      </p>
    </div>
  }

  <!-- Right: Range + Page size + Navigation -->
  <div class="flex items-center gap-3" [ngClass]="{ 'mx-auto': isSimple(), 'ml-auto': !isSimple() }">
    @if (!isSimple()) {
      <span class="text-sm shrink-0 whitespace-nowrap hidden md:inline">{{ startItem }} - {{ endItem }} of {{ totalItems() }}</span>
      <!-- Move page size controls to the right side -->
      <span class="text-sm shrink-0 hidden sm:inline">Items per page:</span>
      <div class="relative z-20 inline-block text-sm shrink-0">
        <button type="button"
                class="relative inline-flex items-center gap-1 border border-neutral-200 rounded-md bg-white pl-2 pr-6 py-1.5 h-8 min-w-16 focus:outline-none focus:ring-2 focus:ring-neutral-300"
                [attr.aria-haspopup]="'listbox'"
                [attr.aria-expanded]="isMenuOpen()"
                (click)="toggleMenu($event)"
                data-page-size-trigger>
          {{ pageSize() }}
          <svg class="pointer-events-none absolute right-1.5 top-1/2 -translate-y-1/2 h-4 w-4 text-neutral-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M7 10l5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        @if (isMenuOpen()) {
          <ul role="listbox"
              class="absolute left-0 bottom-full mb-1 w-20 max-h-56 overflow-auto rounded-md border border-neutral-200 bg-white shadow-lg focus:outline-none z-30"
              data-page-size-menu>
            @for (size of pageSizeOptions(); track size) {
              <li role="option"
                  [attr.aria-selected]="pageSize() === size"
                  class="px-3 py-1.5 cursor-pointer hover:bg-neutral-50 text-neutral-700"
                  (click)="changePageSize(size)">
                {{ size }}
              </li>
            }
          </ul>
        }
      </div>
    }
    <div class="flex items-center gap-1">
    <button
      class="px-1 py-0.5 text-neutral-500 rounded cursor-pointer disabled:text-neutral-500 disabled:cursor-not-allowed"
      [ngClass]="{ 'opacity-50': pageNumber() === 1 }"
      [disabled]="pageNumber() === 1"
      (click)="goToFirstPage()">
      <svg class="text-neutral-500 h-[18px] w-[18px]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <path d="M18.41 16.59L13.82 12L18.41 7.41L17 6L11 12L17 18L18.41 16.59ZM6 6H8V18H6V6Z" fill="currentColor"/>
      </svg>
    </button>

    <button
      class="px-1 py-0.5 text-neutral-500 rounded cursor-pointer disabled:text-neutral-500 disabled:cursor-not-allowed"
      [ngClass]="{ 'opacity-50': pageNumber() === 1 }"
      [disabled]="pageNumber() === 1"
      (click)="goToPreviousPage()">
      <svg class="text-neutral-500 h-[18px] w-[18px]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <path d="M15.41 16.58L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.58Z" fill="currentColor"/>
      </svg>
    </button>

    <button
      class="px-1 py-0.5 text-neutral-500 rounded cursor-pointer disabled:text-neutral-500 disabled:cursor-not-allowed"
      [ngClass]="{ 'opacity-50': pageNumber() === totalPages }"
      [disabled]="pageNumber() === totalPages"
      (click)="goToNextPage()">
      <svg class="text-neutral-500 h-[18px] w-[18px]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <path d="M8.59 16.58L13.17 12L8.59 7.41L10 6L16 12L10 18L8.59 16.58Z" fill="currentColor"/>
      </svg>
    </button>

    <button
      class="px-1 py-0.5 text-neutral-500 rounded cursor-pointer disabled:text-neutral-500 disabled:cursor-not-allowed"
      [ngClass]="{ 'opacity-50': pageNumber() === totalPages }"
      [disabled]="pageNumber() === totalPages"
      (click)="goToLastPage()">
      <svg class="text-neutral-500 h-[18px] w-[18px]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <path d="M5.59 7.41L10.18 12L5.59 16.59L7 18L13 12L7 6L5.59 7.41ZM16 6H18V18H16V6Z" fill="currentColor"/>
      </svg>
    </button>
    </div>
  </div>
</div>
