<div class="max-w-lg mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Document Upload Form</h1>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="mb-4">
      <ui-file-uploader
        formControlName="document"
        [value]="initialFileUrl"
        [fullWidth]="true"
        [enableUploadLater]="true"
        [markedUploadLater]="isUploadLater"
        (fileSelect)="onFileSelected($event)"
        (fileRemoved)="onFileRemoved()"
        (uploadLaterClicked)="onUploadLaterClicked()"
      ></ui-file-uploader>
    </div>

    <div class="flex gap-4">
      <button
        type="button"
        class="px-4 py-2 bg-blue-500 text-white rounded"
        (click)="uploadFile()"
        [disabled]="!uploadedFile || isUploadLater"
      >
        Upload File
      </button>
      <button
        type="submit"
        class="px-4 py-2 bg-green-500 text-white rounded"
        [disabled]="form.pristine && !isUploadLater"
      >
        Submit Form
      </button>
    </div>
  </form>

  <!-- Debug output for demonstration -->
  <div class="mt-4">
    <p><strong>Form Value:</strong> {{ form.value | json }}</p>
    <p><strong>Uploaded File:</strong> {{ uploadedFile?.name || 'None' }}</p>
    <p><strong>Upload Later:</strong> {{ isUploadLater }}</p>
    <p><strong>Form Valid:</strong> {{ form.valid }}</p>
  </div>
</div>